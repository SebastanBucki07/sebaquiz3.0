<div *ngIf="question$ | async as currentQuestion">

  <!-- REVEAL BUTTONS -->
  <div *ngFor="let answer of currentQuestion.answers; let i = index" class="answer-block">

    <button
      mat-raised-button
      class="answer-button"
      (click)="revealAnswer(i)"
      [disabled]="(currentQuestion.revealedAnswers ?? []).includes(i)">
      Poka≈º {{ answer.label || ('odpowied≈∫ ' + (i + 1)) }}
    </button>

    <!-- üëá PRZEROBIONA ODPOWIED≈π -->
    <div
      *ngIf="(currentQuestion.revealedAnswers ?? []).includes(i)"
      class="answer-card">

      <!-- JE≈öLI OBRAZEK -->
      <ng-container *ngIf="isImage(answer.value); else textAnswer">
        <div class="image-wrapper">
          <img [src]="answer.value" class="answer-image" />
          <div class="image-caption">
            {{ answer.label || ('Odpowied≈∫ ' + (i + 1)) }}
          </div>
        </div>
      </ng-container>

      <!-- JE≈öLI TEKST -->
      <ng-template #textAnswer>
        <div class="text-wrapper">
          <div class="answer-label">
            {{ answer.label || ('Odpowied≈∫ ' + (i + 1)) }}
          </div>
          <div class="answer-text">
            {{ answer.value }}
          </div>
        </div>
      </ng-template>

    </div>

  </div>

  <!-- ANSWER BUTTONS -->
  <app-answer-buttons
    *ngIf="showAnswerButtons"
    (correct)="correct.emit()"
    (wrong)="wrong.emit()"
    (half)="half.emit()">
  </app-answer-buttons>

</div>
